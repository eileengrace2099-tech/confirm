<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å•†å“é˜²å½é©—è­‰</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body {font-family:'Inter','Microsoft JhengHei',Arial,sans-serif;background:#f7f8fa;}
    .container {max-width:420px;margin:50px auto;background:#fff;border-radius:18px;box-shadow:0 2px 32px rgba(92,99,105,0.07);padding:36px 30px;}
    h1 {margin-bottom:6px;font-size:2rem;color:#4657e1;letter-spacing:2px;font-weight:700;text-align:center;}
    p {margin-top:0;color:#6a6f84;text-align:center;font-size:1rem;}
    .form-group {margin:35px 0 20px;}
    input[type="text"] {width:100%;padding:13px;border-radius:10px;border:1.5px solid #dbdef4;margin-bottom:18px;font-size:1.15rem;background:#f1f4fd;letter-spacing:1px;box-sizing:border-box;}
    .btn {background:linear-gradient(120deg,#4657e1 30%, #5d83ef 100%);color:#fff;border:none;padding:13px 0;border-radius:9px;font-size:1.15rem;width:100%;font-weight:700;cursor:pointer;letter-spacing:2px;box-shadow:0 2px 12px rgba(70,87,225,0.07);}
    .result-box {display:none;margin:20px 0 0 0;padding:16px;border-radius:10px;font-size:1.09rem;text-align:center;background:#f1f8fd;color:#2a625a;border:1.5px solid #dae9f0;}
    .result-box.success {color:#215f3b;background:#e3faec;border-color:#bee7cd;}
    .result-box.failed {color:#b9383d;background:#fde1e3;border-color:#f5c6c9;}
    .result-box.repeat {color:#875b0e;background:#faf1e3;border-color:#f3e0bc;}
    .meta-box {margin-top:24px;padding:17px 13px;font-size:0.99rem;background:#f7f9ff;border-radius:10px;}
    .meta-title {font-weight:bold;margin-bottom:6px;}
    .meta-list {padding-left:19px;margin:0;}
    .contact {margin-top:18px;text-align:center;}
    .contact span {display:block;margin-bottom:3px;}
    @media (max-width:460px) {.container {padding:27px 5vw;}h1{font-size:1.3rem;}}
  </style>
</head>
<body>
  <div class="container">
    <h1>å•†å“é˜²å½é©—è­‰</h1>
    <p>è«‹è¼¸å…¥æ‚¨çš„é˜²å½èªè­‰ç¢¼ä»¥æŸ¥è©¢ç”¢å“çœŸå½</p>
    <form id="verifyForm" autocomplete="off">
      <div class="form-group">
        <input type="text" id="codeInput" maxlength="24" placeholder="è«‹è¼¸å…¥é˜²å½èªè­‰ç¢¼" required />
        <button class="btn" type="submit">æŸ¥è©¢</button>
      </div>
    </form>
    <div id="result" class="result-box"></div>
    <div class="meta-box">
      <div class="meta-title">ğŸ”” æ³¨æ„äº‹é …</div>
        <ul class="meta-list">
          <li>æ¯çµ„é˜²å½ç¢¼åƒ…é™æŸ¥è©¢ä¸€æ¬¡ï¼Œè«‹å¦¥å–„ä¿ç®¡</li>
          <li>å¦‚æœ‰ç–‘å•è«‹è¯ç¹«ä¸‹æ–¹å®¢æœ</li>
          <li>é˜²å½ç¢¼è«‹å‹¿æä¾›çµ¦ä»–äººé¿å…è¢«å†’ç”¨</li>
          <li>æ”¶åˆ°å•†å“è«‹ç«‹å³æŸ¥é©—</li>
        </ul>
    </div>
    <div class="meta-box contact">
      <div class="meta-title">è¯çµ¡è³‡è¨Š</div>
      <span>ğŸ“ å®¢æœå°ˆç·šï¼š+886 29990000</span>
      <span>ğŸ“§ å®¢æœä¿¡ç®±ï¼šservice@eileengrace.com.tw</span>
      <span>â° æœå‹™æ™‚é–“ï¼šé€±ä¸€è‡³é€±äº” 09:00-17:00</span>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/js-md5@0.7.3/build/md5.min.js"></script>
  <script>
    const fwkey = 'f1c72E7oMl6bwuEJi8C1EnQXn0sTnBJ3woRnX5tOVA2';
    const fwsecret = '149110a73596234ce67a1c220a43d81a2fc815f2e733daa5d4247abcd8731d0d';
    function getClientIP() {
      return fetch('https://api.ipify.org?format=json')
        .then(res=>res.json())
        .then(data=>data.ip)
        .catch(()=> '');
    }
    document.getElementById('verifyForm').onsubmit = async function(e){
      e.preventDefault();
      let code = document.getElementById('codeInput').value.trim();
      let resultBox = document.getElementById('result');
      if(!code){ resultBox.style.display='none'; return; }
      let timestamp = Math.floor(Date.now()/1000).toString();
      let ip = await getClientIP();
      let signatureStr = fwkey + code + timestamp + fwsecret;
      let signature = md5(signatureStr);
      let params = {
        fwkey: fwkey,
        ip: ip,
        fwcode: code,
        signature: signature,
        timestamp: timestamp
      };
      let url = 'http://www.cn315fw.com/fwapi/Getres?' +
        Object.keys(params).map(k=>k+'='+encodeURIComponent(params[k])).join('&');
      fetch(url)
        .then(res => res.json())
        .then(data => {
          let text = '';
          let tclass = '';
          if(data.status === 1)      { text = 'æ­£å“ï¼Œåˆæ¬¡é©—è­‰é€šé'; tclass = 'success'; }
          else if(data.status === 2) { text = 'è©²é˜²å½ç¢¼å·²è¢«æŸ¥è©¢é'; tclass = 'repeat'; }
          else                      { text = 'é˜²å½ç¢¼è¼¸å…¥éŒ¯èª¤ï¼Œè«‹æª¢æŸ¥é‡æ–°è¼¸å…¥'; tclass = 'failed'; }
          resultBox.textContent = text;
          resultBox.className='result-box '+tclass;
          resultBox.style.display='block';
        })
        .catch(err => {
          resultBox.textContent = 'æŸ¥è©¢å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦';
          resultBox.className='result-box failed';
          resultBox.style.display='block';
        });
    };
  </script>
</body>
</html>
